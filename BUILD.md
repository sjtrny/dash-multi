# Creating a Local Development Environment

Use the following script to create a python virtual environment and install
the dependencies required to build and test jitcache.

    ./create_local_env.sh

# Local build

Before pushing commits you should locally build to run tests, check formatting
and documentation. Use the following command to run the build

    ./pre_push.sh

# Sphinx Documentation

The documentation is automatically generated by Sphinx and can be found in the
``docs`` directory. To build the html docs you can do the following

    cd docs
    make html

The commands used to create the Sphinx configuration were:

    mkdir docs
    cd docs
    sphinx-quickstart

All default values were used in the Sphinx wizard.

# readthedocs

readthedocs is connected to the github repository.

In the settings you must specify the location of the configuration file. In
this case it is:
    
    docs/conf.py

# Tests

Tests can be run using pytest. Run the following command and pytest will
discover any test files

    pytest

# Continuous Integration - Travis

CI is performed on Travis. The configuration file is

    .travis.yml
    
A slight modification needed to be made to the normal Travis config in order
for Python 3.7 to work
https://github.com/travis-ci/travis-ci/issues/9069#issuecomment-425720905

# PEP8 Formatting

To check PEP8 formatting we use flake8. Run flake8 by using the following
command, which will automatically discover the configuration in ``setup.cfg``

    flake8
    
To automatically format our code to PEP8 standard we use black. Run black by
using the following command which will automatically discover the configuration
in ``pyproject.toml``

    black ./    

black will not reformat comments, so it is important that you run flake8
locally to discover any issues before pushing.

# pip and pypi

jitcache is available via pip and is hosted on pypi.

To post your package or module on pypi you must do the following:

1. Create a ``setup.py`` ([details here](https://packaging.python.org/guides/distributing-packages-using-setuptools/))

2. Make universal wheel

    
    python setup.py bdist_wheel

3. Upload to pypi

    
    twine upload dist/*

## Update procedure

1. Increment the version number in ``setup.py``
2. Follow steps 2 and 3 from above


    

